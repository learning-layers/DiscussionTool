<div class="modal-header">
  <h3 class="modal-title">Select Living Document to connect</h3>
</div>
<div class="modal-body">
  <div ng-hide="documentsLoaded" style="text-align:center;">
    <i class="fa fa-spinner fa-spin" style="font-size:500%;"></i>
  </div>

  <form name="create_document_form" novalidate ng-submit="createNewLivingDocument()">
    <div class="form-group">
      <label for="documentLabel">Label</label>
      <input type="text" class="form-control" id="documentLabel" name="documentLabel" placeholder="Label" ng-model="livingDocument.label" required>
      <div class="error-container" ng-show="create_document_form.documentLabel.$dirty && create_document_form.documentLabel.$invalid && create_document_form.$submitted">
        <small class="error text-danger"
               ng-show="create_document_form.documentLabel.$error.required">
               Label is required
        </small>
      </div>
    </div>
    <div class="form-group">
      <text-angular ta-toolbar="[['bold', 'italics', 'underline', 'strikeThrough', 'ul', 'ol', 'undo', 'redo', 'clear'], ['justifyLeft', 'justifyCenter', 'justifyRight', 'indent', 'outdent'], ['html', 'insertImage', 'insertLink', 'insertVideo']]" ng-model="livingDocument.description" name="documentDescription" required></text-angular>
      <div class="error-container"
           ng-show="create_document_form.documentDescription.$dirty && create_document_form.documentDescription.$invalid && create_document_form.$submitted">
        <small class="error text-danger"
               ng-show="create_document_form.documentDescription.$error.required">
               Description is required
        </small>
      </div>
    </div>
    <div class="form-group">
      <button type="submit" class="btn btn-success btn-lg center-block" ng-disabled="isBeingSubmitted">
        <i class="fa fa-spinner fa-spin" ng-if="isBeingSubmitted"></i>
        Create New Document
      </button>
    </div>
  </form>

  <div class="panel panel-default"  ng-repeat="document in documents">
    <div class="panel-body">
      <div class="media">
        <div class="media-left">
          <img src="images/ld.png" alt="livingdocument" ng-style="{ opacity: document.discs.length > 0 ? 0.5 : 1.0 }">
        </div>
        <div class="media-body">
          <h4 class="media-heading">
            <label>
              <input type="radio" ng-model="$parent.$parent.selectedDocument" ng-value="document" ng-disabled="document.discs.length > 0">
              {{document.label}}
            </label>
          </h4>
          <p ng-bind-html="document.description"></p>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal-footer">
    <button class="btn btn-lg btn-success center-block" ng-disabled="!selectedDocument" ng-click="connectToDocument()">Connect to Discussion</button>
</div>
